<!DOCTYPE>
<html>
<head>
    <meta charset="utf-8">
    <title>Домашняя работа</title>
    <style>
        h1, h2, h3 {
            color: steelblue;
        }

        .students-tab {
            border: 1px solid steelblue;
            width: 750px;
            border-collapse: collapse;
            margin-bottom: 50px;
        }

        .students-tab tr td {
            border: 1px solid steelblue;
        }

        .students-tab-col1 {
            width: 250px;
        }
    </style>

    <script>
        "use strict"
        let ageSum = 0;
        let counter = 0;

        function addStudent() {
            const studentsTab = document.getElementById("studentsTab");
            let averageAge = document.getElementById("averageAge");
            let studentName = document.getElementById("studentName").value;
            let studentSex = document.getElementById("studentSex").value;
            let studentBorn = document.getElementById("studentBorn").value;
            let studentAge = parseInt((new Date().getTime() - new Date(studentBorn).getTime()) / 1000 / 60 / 60 / 24 / 365);

            const newRow = studentsTab.insertRow(studentsTab.rows.length);

            const newCell = newRow.insertCell(-1);
            newCell.appendChild(document.createTextNode(studentName));
            const newCell1 = newRow.insertCell(-1);
            newCell1.appendChild(document.createTextNode(studentSex));
            const newCell2 = newRow.insertCell(-1);
            newCell2.appendChild(document.createTextNode(studentBorn));
            const newCell3 = newRow.insertCell(-1);
            newCell3.appendChild(document.createTextNode(studentAge));

            counter += 1;
            ageSum += studentAge;

            setAverageAge();
            document.body.prepend(div);
            div.innerHTML = "Отправлено";

            function setAverageAge() {
                averageAge = ageSum / counter;
                document.getElementById("averageAge").textContent = averageAge;
            }
        }

    </script>

</head>

<body>


<h2>Домашняя работа</h2>


<h3>Таблица студентов</h3>
<table class="students-tab" id="studentsTab">
    <thead>

    <tr>
        <td class="students-tab-1">Имя студента</td>
        <td class="students-tab-2">Пол</td>
        <td class="students-tab-3">Дата рождения</td>
        <td class="students-tab-4">Возраст</td>
    </tr>
    </thead>
</table>

<table class="students-tab">
    <tr>
        <td>Средний возраст студентов</td>
        <td id="averageAge">0</td>
    </tr>
</table>
<div class="input-form">
    <label>
        Новый студент:
        <input id="studentName" type="text" value="ФИО">
        <td><select id='studentSex'>
            <option>Мужской</option>
            <option>Женский</option>
        </select></td>
        <td><input id="studentBorn" type="date" value="1986-11-13"></td>

        <button onclick="addStudent()">Добавить</button>
    </label>

</div>


</body>
</html>